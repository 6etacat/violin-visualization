(function(t){function e(e){for(var r,o,a=e[0],u=e[1],l=e[2],d=0,p=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,a=1;a<s.length;a++){var u=s[a];0!==i[u]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},i={app:0},n=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/violin-visualization/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var c=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1cfe":function(t,e,s){"use strict";var r=s("9514"),i=s.n(r);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),i=s("2f62"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isLoaded?s("Visualization",{attrs:{violin:t.currentViolin,results:t.results,resultsName:t.resultsName,updateResults:t.updateResults}}):s("div",{staticClass:"loading"},[s("svg",{staticClass:"loading-icon",attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[s("circle",{attrs:{cx:"50",cy:"50",fill:"none",stroke:"#94a9ce","stroke-width":"10",r:"35","stroke-dasharray":"164.93361431346415 56.97787143782138"}},[s("animateTransform",{attrs:{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}})],1)])])},o=[],a=(s("4160"),s("d81d"),s("b64b"),s("ac1f"),s("1276"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"visualization"},[s("YouTubeVideo",{key:t.indices[t.id],ref:"video",attrs:{source:t.source,id:t.indices[t.id],start:t.start,end:t.end,muted:t.muted}}),s("div",{staticClass:"subtitles-wrapper"},[s("Subtitles",{ref:"subtitles",attrs:{subtitles:t.subtitles,currentSubtitles:t.currentSubtitles}})],1),s("Statements",{attrs:{statements:t.statements,errors:t.errors}}),s("div",{staticClass:"controls-wrapper"},[s("div",{staticClass:"controls"},[s("div",{staticClass:"row"},[s("input",{staticClass:"input",attrs:{type:"text",value:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitNewClipId(e)},click:t.selectElement}})]),s("div",{staticClass:"row"},[s("input",{staticClass:"input",attrs:{id:"id-input",type:"text"},domProps:{value:t.id+1},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitNewId(e)}}}),t._v(" / "+t._s(t.indices.length)+" ")]),s("div",{staticClass:"row"},[s("button",{attrs:{disabled:0==t.id},on:{click:function(e){return t.updateContent(-1)}}},[t._v("Prev")]),s("button",{attrs:{disabled:t.id==t.indices.length-1},on:{click:function(e){return t.updateContent(1)}}},[t._v("Next")])]),s("button",{staticClass:"row",attrs:{disabled:!t.isPlayerLoaded},on:{click:function(e){t.muted=!t.muted,t.toggleMute()}}},[t._v(t._s(t.muted?"Unmute":"Mute"))]),s("select",{domProps:{value:t.resultsName},on:{change:t.submitResults}},[s("option",{attrs:{value:"all_data"}},[t._v("All Data")]),s("option",{attrs:{value:"vid+sub_err"}},[t._v("Errors of Vid+Sub model")]),s("option",{attrs:{value:"sub_err"}},[t._v("Errors of Sub model")]),s("option",{attrs:{value:"vid_err"}},[t._v("Errors of Vid model")]),s("option",{attrs:{value:"vid+sub_sub_err"}},[t._v("Error comparisons of Vid+Sub vs Sub models")]),s("option",{attrs:{value:"vid+sub_vid_err"}},[t._v("Error comparisons of Vid+Sub vs Vid models")]),s("option",{attrs:{value:"vid_sub_err"}},[t._v("Error comparisons of Vid vs Sub models")])])]),s("div",{staticClass:"footnote"},[t._v(" "+t._s(t.file)+" ["+t._s(t.start)+":"+t._s(t.end)+"] in "+t._s(t.split)+" split ")])])],1)}),u=[],l=(s("cb29"),s("c975"),s("a9e3"),s("4c53"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"video"},[s("div",{staticClass:"disabled",attrs:{id:"video-player"}},[s("div",[t._v("Video currently not available")])])])}],d=s("0fe3"),p=s.n(d),f=s("bc3a"),v=s.n(f);function m(t){var e;return 3==t.length?e={comparison:!1,real:t[1].split("").map((function(t){return 1==t})),fake:t[2].split("").map((function(t){return 1==t}))}:7==t.length&&(e={comparison:!0,A:{name:t[1],real:t[2].split("").map((function(t){return 1==t})),fake:t[3].split("").map((function(t){return 1==t}))},B:{name:t[4],real:t[5].split("").map((function(t){return 1==t})),fake:t[6].split("").map((function(t){return 1==t}))}}),e}function h(t){return v.a.get("https://www.googleapis.com/youtube/v3/videos?id="+t+"&key=AIzaSyCXENXFZ_zJ9tCGnHtci3aRQRSUuzWDY0Y&part=snippet").then((function(t){return 200===t.status&&0!=t.data.pageInfo.totalResults}))}var b={name:"YouTubePlayer",props:{source:String,start:Number,end:Number,muted:Boolean},data:function(){return{player:void 0,timeUpdater:void 0}},methods:{prepareVideo:function(t,e,s){var r=this;this.$store.commit("setIsPlayerLoaded",!1),h(t).then((function(i){i?(r.player=p()("video-player"),r.player.cueVideoById({videoId:t,startSeconds:e,endSeconds:s}),r.toggleMute(r.muted),r.$store.commit("setIsPlayerLoaded",!0)):(r.player=void 0,document.getElementById("video-player").outerHTML='<div id="video-player" class="disabled"><div>Video currently not available</div></div>')}))},updateTime:function(){var t=this;this.player?this.player.getCurrentTime().then((function(e){t.$store.commit("setPlaybackTime",e-t.start)})):this.$store.commit("setPlaybackTime",0)},toggleMute:function(t){t?this.player.mute():this.player.unMute()}},created:function(){this.timeUpdater=setInterval(this.updateTime,10)},mounted:function(){this.$store.commit("setPlaybackTime",0),this.prepareVideo(this.source,this.start,this.end)},beforeDestroy:function(){clearInterval(this.timeUpdater)}},y=b,_=(s("1cfe"),s("2877")),g=Object(_["a"])(y,l,c,!1,null,null,null),k=g.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subtitles"},t._l(t.subtitles,(function(e,r){return s("p",{key:r+e[0],class:t.currentSubtitles[r]?"current-subtitle":""},[t._v(t._s(e[0]))])})),0)},C=[],I={name:"Subtitles",props:{subtitles:Array,currentSubtitles:Array}},w=I,$=(s("a255"),Object(_["a"])(w,S,C,!1,null,null,null)),E=$.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"statements-wrapper"},[s("div",{staticClass:"statements"},[s("div",{staticClass:"header real"},[t._v("Real")]),s("div",{staticClass:"header fake"},[t._v("Fake")]),t._l(t.statements,(function(e,r){return s("Fragment",{key:r},[s("div",{class:t.getClass("real",r)},[t._v(t._s(e[0]))]),s("div",{class:t.getClass("fake",r)},[t._v(t._s(e[1]))])])}))],2),t.errors?s("div",{staticClass:"footer"},t._l(t.footer,(function(e,r){return s("div",{key:r,class:e.class},[t._v(t._s(e.content))])})),0):t._e()])},P=[],T=(s("b0c0"),s("3f08")),x={name:"Statements",components:{Fragment:T["a"]},props:{statements:Array,errors:Object},computed:{footer:function(){return this.errors?this.errors.comparison?[{content:"both models correct",class:"cell"},{content:"error of ".concat(this.errors.A.name," model"),class:"A"},{content:"error of ".concat(this.errors.B.name," model"),class:"B"},{content:"error of both models",class:"error"}]:[{content:"model correct",class:"cell"},{content:"model error",class:"error"}]:[]}},methods:{getClass:function(t,e){if(console.log(this.errors),!this.errors)return"cell";if(this.errors.comparison){var s=this.errors.A[t][e],r=this.errors.B[t][e];return s&&r?"error":s?"A":r?"B":"cell"}return this.errors[t][e]?"error":"cell"}}},V=x,j=(s("95c7"),Object(_["a"])(V,O,P,!1,null,null,null)),L=j.exports,N={name:"App",components:{YouTubeVideo:k,Subtitles:E,Statements:L},props:{violin:Object,results:Object,resultsName:String,updateResults:Function},data:function(){return{id:0,currentSubtitles:[],muted:!1,errors:void 0}},computed:{indices:function(){return this.violin?Object.keys(this.violin):[]},clipId:function(){return this.indices[this.id]},file:function(){return this.violin[this.clipId].file},source:function(){return this.violin[this.clipId].source},split:function(){return this.violin[this.clipId].split},start:function(){return this.violin[this.clipId].span[0]},end:function(){return this.violin[this.clipId].span[1]},playbackTime:function(){return this.$store.state.playbackTime},statements:function(){return this.violin[this.clipId].statement},subtitles:function(){return this.violin[this.clipId].sub},isPlayerLoaded:function(){return this.$store.state.isPlayerLoaded}},methods:{updateSubtitles:function(){var t=this;0==this.currentSubtitles.length&&(this.currentSubtitles=Array(this.subtitles.length).fill(!1)),this.subtitles.forEach((function(e,s){t.currentSubtitles[s]=1e3*t.playbackTime>=e[1][0]&&1e3*t.playbackTime<=e[1][1]})),this.$refs.subtitles&&this.$refs.subtitles.$forceUpdate()},updateContent:function(t){this.id+=t,this.currentSubtitles=[]},updateErrors:function(){this.results&&this.results[this.indices[this.id]]?this.errors=this.results[this.indices[this.id]]:this.errors=void 0},submitResults:function(t){this.updateResults(t.target.value)},submitNewId:function(t){var e=Number(t.target.value);console.assert(parseInt(t.target.value)===e),console.assert(e>0&&e<=this.indices.length),this.id=e-1,this.currentSubtitles=[],this.updateErrors()},submitNewClipId:function(t){var e=t.target.value.split("$"),s=this.indices.indexOf(e[0]);s<0?alert("clip ".concat(t.target.value," not found")):(this.id=s,this.currentSubtitles=[],this.updateErrors(),this.errors=m(e))},selectElement:function(t){t.target.select()},toggleMute:function(){this.$refs.video&&this.$refs.video.toggleMute(this.muted)}},mounted:function(){this.updateErrors(),setInterval(this.updateSubtitles,10)}},A=N,M=(s("81c2"),Object(_["a"])(A,a,u,!1,null,null,null)),R=M.exports,B={name:"App",components:{Visualization:R},data:function(){return{violin:void 0,currentViolin:void 0,results:void 0,resultsName:"all_data"}},computed:{isLoaded:function(){return this.$store.state.isLoaded}},methods:{fetchData:function(){var t=this;v.a.get("violin_annotation.json").then((function(e){t.violin=e.data,t.currentViolin=t.violin,t.$store.commit("setIsLoaded",!0)}))},updateResults:function(t){var e=this;this.resultsName!=t&&(this.$store.commit("setIsLoaded",!1),"all_data"===t?(this.results=void 0,this.currentViolin=this.violin,this.$store.commit("setIsLoaded",!0)):v.a.get("results/".concat(t,".txt")).then((function(s){e.resultsName=t,e.results={},e.currentViolin={};var r=s.data.split("\n").map((function(t){return t.split("$")}));r.forEach((function(t){e.results[t[0]]=m(t)})),Object.keys(e.results).forEach((function(t){e.currentViolin[t]=e.violin[t]})),e.$store.commit("setIsLoaded",!0)})))}},mounted:function(){this.fetchData()}},z=B,U=(s("5c0b"),Object(_["a"])(z,n,o,!1,null,null,null)),Y=U.exports;r["a"].use(i["a"]);var D=new i["a"].Store({state:{playbackTime:0,isLoaded:!1,isPlayerLoaded:!1},mutations:{setPlaybackTime:function(t,e){t.playbackTime=e},setIsLoaded:function(t,e){t.isLoaded=e},setIsPlayerLoaded:function(t,e){t.isPlayerLoaded=e}}});r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(Y)},store:D}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var r=s("9c0c"),i=s.n(r);i.a},"81c2":function(t,e,s){"use strict";var r=s("d718"),i=s.n(r);i.a},9514:function(t,e,s){},"95c7":function(t,e,s){"use strict";var r=s("a141"),i=s.n(r);i.a},"96e6":function(t,e,s){},"9c0c":function(t,e,s){},a141:function(t,e,s){},a255:function(t,e,s){"use strict";var r=s("96e6"),i=s.n(r);i.a},d718:function(t,e,s){}});
//# sourceMappingURL=app.86914092.js.map